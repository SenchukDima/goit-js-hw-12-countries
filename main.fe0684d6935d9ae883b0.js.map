{"version":3,"sources":["webpack:///./fetchCountries.js","webpack:///./country.js","webpack:///./countryInfoShablon.hbs","webpack:///./countryShablon.hbs"],"names":["page","fetchCountries","searchQuery","fetch","then","response","json","refs","country__form","document","querySelector","country__input","country__list","onInput","event","preventDefault","value","innerHTML","countriesObj","data","items","allSearchedCountiesMassive","allCountrieLanguageMassive","map","el","languages","length","PNotify","error","text","insertListItems","countriesInformationBlockTemplate","insertAdjacentHTML","insertListLanguages","buildListItem","countriesListItemsTemplate","addEventListener","_","debounce","Handlebars","module","exports","template","container","depth0","helpers","partials","propertyIsEnumerable","alias2","lambda","alias3","escapeExpression","name","capital","population","flag","stack1","each","call","nullContext","program","noop"],"mappings":"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","file":"main.fe0684d6935d9ae883b0.js","sourcesContent":["const countries = 'https://restcountries.eu/rest/v2/';\r\n\r\nexport default {\r\n  page: 1,\r\n  fetchCountries(searchQuery) {\r\n    const requestParams = `name/${searchQuery}`;\r\n    return fetch(countries + requestParams).then(response => response.json());\r\n  },\r\n}\r\n","import PNotify from 'pnotify/dist/es/PNotify';\r\nimport countriesObj from './fetchCountries';\r\nimport countriesListItemsTemplate from './countryShablon.hbs';\r\nimport countriesInformationBlockTemplate from './countryInfoShablon.hbs';\r\n\r\nconst refs = {\r\n  country__form: document.querySelector('#country__form'),\r\n  country__input: document.querySelector('#country__input'),\r\n  country__list: document.querySelector('#country__list'),\r\n};\r\n\r\nrefs.country__input.addEventListener('input', _.debounce(onInput, 500));\r\nrefs.country__form.addEventListener('submit', onInput);\r\n\r\nfunction onInput(event) {\r\n  event.preventDefault();\r\n  const searchQuery = refs.country__input.value;\r\n  if (searchQuery === '') {\r\n    refs.country__list.innerHTML = '';\r\n  } else {\r\n    countriesObj.fetchCountries(searchQuery).then(data => {\r\n      const allSearchedCountiesMassive = data;\r\n\r\n      const allCountrieLanguageMassive = data.map(el => el.languages)[0];\r\n\r\n      if (allSearchedCountiesMassive.length > 10) {\r\n        PNotify.error({\r\n          text: 'Too many matches found. Please enter a more specific query!',\r\n        });\r\n        refs.country__list.innerHTML = '';\r\n      } else if (allSearchedCountiesMassive.length <= 1) {\r\n        refs.country__list.innerHTML = '';\r\n        const allSearchedCounties = buildInformationBlockItem(\r\n          allSearchedCountiesMassive,\r\n        );\r\n        insertListItems(allSearchedCounties);\r\n        const allcountrieLanguages = buildListItem(allCountrieLanguageMassive);\r\n        insertListLanguages(allcountrieLanguages);\r\n      } else {\r\n        refs.country__list.innerHTML = '';\r\n        const allSearchedCounties = buildListItem(allSearchedCountiesMassive);\r\n        insertListItems(allSearchedCounties);\r\n      }\r\n    });\r\n  }\r\n  // .catch(error => {\r\n  //   console.log(error);\r\n  //   refs.country__list.innerHTML = '';\r\n  // });\r\n}\r\n\r\nfunction insertListItems(items) {\r\n  refs.country__list.insertAdjacentHTML('beforeend', items);\r\n}\r\nfunction insertListLanguages(items) {\r\n  const languageList = document.querySelector('#languages__list');\r\n  languageList.insertAdjacentHTML('beforeend', items);\r\n}\r\n\r\nfunction buildListItem(items) {\r\n  return countriesListItemsTemplate(items);\r\n}\r\n\r\nfunction buildInformationBlockItem(items) {\r\n  return countriesInformationBlockTemplate(items);\r\n}\r\n","var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.propertyIsEnumerable, alias2=container.lambda, alias3=container.escapeExpression;\n\n  return \"<div class=\\\"inform__container\\\">\\r\\n<h2 class=\\\"country__name\\\">\"\n    + alias3(alias2((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</h2>\\r\\n<div class=\\\"flex__box\\\">\\r\\n<div class=\\\"inform__box\\\">\\r\\n  <p class=\\\"inform__capital\\\">\\r\\n    <span class=\\\"inform__capital--span\\\">\\r\\n    Capital:</span> \"\n    + alias3(alias2((depth0 != null ? depth0.capital : depth0), depth0))\n    + \"</p>\\r\\n  <p class=\\\"inform__population\\\">\\r\\n    <span class=\\\"inform__population--span\\\">\\r\\n    Population:</span> \"\n    + alias3(alias2((depth0 != null ? depth0.population : depth0), depth0))\n    + \"</p>\\r\\n<h3>Languages:</h3>\\r\\n  <ul id=\\\"languages__list\\\">\\r\\n  </ul>\\r\\n</div>\\r\\n<div class=\\\"flag__box\\\">\\r\\n  <img class=\\\"flag__img\\\" src=\\\"\"\n    + alias3(alias2((depth0 != null ? depth0.flag : depth0), depth0))\n    + \"\\\" alt=\\\"\\\">\\r\\n</div>\\r\\n</div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":21,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<li class=\\\"country__list--item\\\" id=\\\"country__list--item\\\">\\r\\n    <p>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</p>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":5,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}